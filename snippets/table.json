{
  "table": {
    "prefix": "lxtable",
    "body": [
      "import { PageContainer } from \"@ant-design/pro-layout\";",
      "import type { ProColumns } from \"@ant-design/pro-table\";",
      "import ProTable from \"@ant-design/pro-table\";",
      "import { Link } from \"umi\";",
      "",
      "// request请求数据",
      "const getList = async (params: any) => {",
      "\tconst { current, pageSize: size, ...searchParams } = params;",
      "\tconst listParams: any = {",
      "\t\tparam: { page: current - 1, size, ...searchParams },",
      "\t}; // 页码从0开始",
      "",
      "\ttry {",
      "\t\tconst { content, total } = { content: [], total: 0 }; // 这里写请求",
      "\t\treturn { success: true, data: content, total: total };",
      "\t} catch (err) {",
      "\t\t// 请求失败",
      "\t\tconsole.log(err);",
      "\t\treturn { success: false };",
      "\t}",
      "};",
      "",
      "// option列渲染",
      "const optionRender = (_: any, record: any) => {",
      "\tconst { id } = record;",
      "\tconst basePath = \"/\";",
      "",
      "\treturn [",
      "\t\t<Link key=\"detail\" to={`\\${basePath}/detail/\\${id}`}>",
      "\t\t\t查看",
      "\t\t</Link>,",
      "\t];",
      "};",
      "",
      "// 表格列定义",
      "const columns: ProColumns<any>[] = [",
      "\t{ title: \"ID\", dataIndex: \"id\" },",
      "\t{ title: '操作', valueType: 'option', render: optionRender },",
      "];",
      "",
      "const ${1:MyTable} = () => {",
      "\treturn (",
      "\t\t<PageContainer>",
      "\t\t\t<ProTable<any>",
      "\t\t\t\theaderTitle=\"列表\"",
      "\t\t\t\tcolumns={columns}",
      "\t\t\t\trowKey=\"id\"",
      "\t\t\t\trequest={getList}",
      "\t\t\t\tsearch={{ defaultCollapsed: false, labelWidth: \"auto\" }}",
      "\t\t\t\tscroll={{ x: columns.length * 150 }}",
      "\t\t\t\tpagination={{ defaultPageSize: 10, showSizeChanger: true }}",
      "\t\t\t/>",
      "\t\t</PageContainer>",
      "\t);",
      "};",
      "",
      "export default ${1:MyTable};"
    ],
    "description": "pro-table template"
  },
  "tableadd": {
    "prefix": "lxtableadd",
    "body": [
      "import { PlusOutlined } from \"@ant-design/icons\";",
      "import { PageContainer } from \"@ant-design/pro-layout\";",
      "import type { ProColumns } from \"@ant-design/pro-table\";",
      "import ProTable from \"@ant-design/pro-table\";",
      "import { Button } from \"antd\";",
      "import { Link } from \"umi\";",
      "",
      "// request请求数据",
      "const getList = async (params: any) => {",
      "\tconst { current, pageSize: size, ...searchParams } = params;",
      "\tconst listParams: any = {",
      "\t\tparam: { page: current - 1, size, ...searchParams },",
      "\t}; // 页码从0开始",
      "",
      "\ttry {",
      "\t\tconst { content, total } = { content: [], total: 0 }; // 这里写请求",
      "\t\treturn { success: true, data: content, total: total };",
      "\t} catch (err) {",
      "\t\t// 请求失败",
      "\t\tconsole.log(err);",
      "\t\treturn { success: false };",
      "\t}",
      "};",
      "",
      "// option列渲染",
      "const optionRender = (_: any, record: any) => {",
      "\tconst { id } = record;",
      "\tconst basePath = \"/\";",
      "",
      "\treturn [",
      "\t\t<Link key=\"detail\" to={`\\${basePath}/detail/\\${id}`}>",
      "\t\t\t查看",
      "\t\t</Link>,",
      "\t];",
      "};",
      "",
      "// 表格列定义",
      "const columns: ProColumns<any>[] = [",
      "\t{ title: \"ID\", dataIndex: \"id\" },",
      "\t{ title: '操作', valueType: 'option', render: optionRender },",
      "];",
      "",
      "const ${1:MyTable} = () => {",
      "\t// ToolBar中的新增按钮",
      "\tconst toolBarRender = () => [",
      "\t\t<Button key=\"new\" type=\"primary\" onClick={() => {}}>",
      "\t\t\t<PlusOutlined />",
      "\t\t\t新增",
      "\t\t</Button>,",
      "\t];",
      "",
      "\treturn (",
      "\t\t<PageContainer>",
      "\t\t\t<ProTable<any>",
      "\t\t\t\theaderTitle=\"列表\"",
      "\t\t\t\tcolumns={columns}",
      "\t\t\t\trowKey=\"id\"",
      "\t\t\t\trequest={getList}",
      "\t\t\t\tsearch={{ defaultCollapsed: false, labelWidth: \"auto\" }}",
      "\t\t\t\tscroll={{ x: columns.length * 150 }}",
      "\t\t\t\tpagination={{ defaultPageSize: 10, showSizeChanger: true }}",
      "\t\t\t\ttoolBarRender={toolBarRender}",
      "\t\t\t/>",
      "\t\t</PageContainer>",
      "\t);",
      "};",
      "",
      "export default ${1:MyTable};"
    ],
    "description": "pro-table template (with add button)"
  },
  "detail": {
    "prefix": "lxdetail",
    "body": [
      "import DescriptionsInfo from '@/pages/CirculationSupervision/components/DescriptionsInfo';",
      "import type { DescItem } from '@/pages/CirculationSupervision/components/types';",
      "import { ProCard } from '@ant-design/pro-components';",
      "import { PageContainer } from '@ant-design/pro-layout';",
      "import { useEffect, useState } from 'react';",
      "import { history, useParams } from 'umi';",
      "",
      "// 返回到上一个界面",
      "const handleBack = () => history.goBack();",
      "",
      "// 通过Params传入`id`",
      "type Params = {",
      "\tid: string;",
      "};",
      "",
      "// Descriptions.Item内容",
      "const itemData: DescItem[] = [",
      "\t{ index: 'id', label: 'ID' },",
      "\t{ index: 'createTime', label: '创建日期', valueType: 'dateTime' },",
      "];",
      "",
      "const ${1:MyDetail} = () => {",
      "\tconst params = useParams<Params>();",
      "\tconst { id } = params;",
      "",
      "\t// 状态",
      "\tconst [example, setExample] = useState<any>();",
      "",
      "\t// 请求相关信息",
      "\tuseEffect(() => {",
      "\t\tif (id === undefined) return;",
      "",
      "\t\tconst queryInfo = async () => {",
      "\t\t\ttry {",
      "\t\t\t\tconst content = { id: '001', createTime: 1640966400000 };",
      "\t\t\t\t// 请求成功",
      "\t\t\t\tsetExample(content);",
      "\t\t\t} catch (err) {",
      "\t\t\t\tconsole.log(err);",
      "\t\t\t}",
      "\t\t};",
      "\t\tqueryInfo();",
      "\t}, [id]);",
      "",
      "\treturn (",
      "\t\t<PageContainer onBack={handleBack}>",
      "\t\t\t<ProCard title=\"信息\">",
      "\t\t\t\t<DescriptionsInfo itemData={itemData} obj={example} />",
      "\t\t\t</ProCard>",
      "\t\t</PageContainer>",
      "\t);",
      "};",
      "",
      "export default ${1:MyDetail};"
    ],
    "description": "detail template (with add button)"
  }
}
